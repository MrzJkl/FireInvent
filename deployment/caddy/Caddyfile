# API reverse proxy
# Routes API requests to the backend API service
{$API_DOMAIN:api.localhost} {
  encode gzip
  
  reverse_proxy api:8080 {
    header_up Connection keep-alive
  }
}

# Keycloak authentication reverse proxy
# Routes authentication requests to Keycloak
{$AUTH_DOMAIN:auth.localhost} {
  encode gzip
  
  reverse_proxy keycloak:8080 {
    header_up Connection keep-alive
  }
}

# UI reverse proxy
# Routes frontend requests to the UI service
{$UI_DOMAIN:localhost} {
  encode gzip
  
  reverse_proxy ui:80 {
    header_up Connection keep-alive
  }
}